[TOC]



# 媒资管理模块

# 一、需求分析

## 1.1 介绍

媒资管理系统是每个在线教育平台所必须具备的

每个教学机构都可以在媒资系统管理自己的教学资源，包括:视频、教案等文件，**目前媒资管理的主要管理对象是视频、图片、文档等，包括:媒资文件的查询、文件上传、视频处理等**.

**媒资查询:教学机构查询自己所拥有的媒资信息**

**文件上传:包括上传图片、上传文档、上传视频**

比如说内容管理中课程编辑和新增时需要添加课程封面图片

![image-20231217014015595](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20231217014015595.png)

**视频处理:视频上传成功，系统自动对视频进行编码处理**

假如我们上传了一个avi格式的视频，这个视频在浏览器上是无法播放的需要进行转码，比如说转成Mp4格式

**文件删除:教学机构删除自己上传的媒资文件**

![image-20231217012246722](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20231217012246722.png)



## 1.2 数据模型

![image-20231217015244539](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20231217015244539.png)

**mdia_files媒资文件表**：存储文件信息，包括图片、视频、文档等，并不是文件本身，真正的文件存储在我们的分布式系统中。

**media_process**: 待处理视频表。

**media_process_history**: 视频处理历史表，记录已经处理成功的视频信息。

****

**视频处理完成之后要绑定课程计划**

媒资文件与课程计划绑定关系表如下：

课程计划表teachplan

课程计划与媒资关系teachplan_media，主要是操作这张表，将媒资与课程计划进行绑定

![image-20231217015322727](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20231217015322727.png)

 

# 二、媒资项目搭建

## 2.1 分析网关

